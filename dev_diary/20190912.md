1뽐 소모.

Q. 과연 Data Mapper vs DAO 를 정확히 아는게
android Room을 사용하는데 꼭 필요했는가?
A. 아니다. 그럼 일단 만들자.

일단 Room을 사용하여 CRUD를 하는게 목적인데 또 중간에 아키텍쳐로 삼천포.

Entity 설계 고민 -> 이는 데이터 모델링의 영역 (정규화, 역정규화)

내가 지금 하고자 하는 건 Room을 사용하여 앱에 영속성을 도입하는 것.
정확한 데이터 모델링은 나중에.
일단 jsonplaceholder api와 동일한 entity로.

학습의 경계 설정
room vs rxjava

지금 당장 할 수 있는 instead thread or asynctask

## 멀티 태스킹 반성

1. 
Room은 DAO를 통해 CRUD를 처리한다. 문뜩 Data Mapper와 DAO의 차이점이 궁금해서 뒤져봄. 시간 소모.
=> android room을 사용하는데 당장 필요한 지식은 아님. 일단 만들자.

2. 
Room은 로컬 CRUD가 사용목적인데 자료가 AAC라 중간에 아키텍쳐로 또 삼천포.

3. 
Entity 설계 고민으로 삼천포. 나는 지금 Room을 사용하는것이지 데이터 모델링을 훈련하는게 아님. 일단 jsonplaceholder를 api로 사용할 것이므로 동일한 entity로.

4.
Repository 클래스 안에서 CRUD 처리는 보통 RxJava로 하는걸 볼 수 있다. 그러나 RxJava의 학습 비용은 결코 적지 않다. 당장 Room을 적용하는게 목적이라면 Thread or AsyncTask로 CRUD 처리를 해야 한다. UI 쓰레드에서 해당 처리를 할 수 없기 때문이다.

5.
머리로는 단계별로 Room 적용 후 차근 차근 컴포넌트 적용을 하나씩 늘리는 게 맞다는 걸 알지만 실제로 이걸 하는 건 쉽지가 않다. 공식 문서조차 Room만 따로 적용하는 경우가 없기 때문이다. 

## 학습의 경계 설정
'과연 어디까지 공부해야 하나?'

1.
Room 관련 예제를 보다보면 필연적으로 Rx or LiveData가 엮이고, LiveData를 쓰려다 보면 ViewModel까지 엮인다. 

2.
역시나 배보다 배꼽이 커지는 현상을 나도 겪었다. 근데 Room을 쓰는데 LiveData or RxJava를 안 쓰는게 확실히 손해라는 생각이 들었다. 여기에 LiveData를 쓰면 ViewModel을 안 쓸 수가 없다.

3.
즉, 순수하게 Room만 적용하는 레퍼런스는 존재하지 않게 된다. 안드로이드에 어느 정도 익숙한 본인도 러닝커브가 심한 걸 느꼈는데 초보자들 같은 경우는 상당히 고통스러울 듯.
AAC(Android Architecture Component)가 좋은 건 알겠지만 생각보다 제약 사항이 있어 보인다. 마냥 적용하다가 피를 본 곳이 분명 있을 듯.  해외 포럼엔 이러한 제약사항 때문에 ViewModel에 대한 비판도 있는 듯.

4.
플랫폼 측은 좋은 면만 설명할 뿐 제약사항이나 실무에서 겪을 고통을 예고하진 않는다. 
참고로 Constraint Layout 1.0 버전 때 좋다는 얘기만 믿고 쓰다가 각종 오류 때문에 밤을 샌 이후로 구글도 안 믿게 됐다. 
1년 뒤 나온 1.1에서 많은 버그가 해결된 걸 보고 2배로 빡쳤던 알흠다운 추억이 있다.

5.
위와 같은 현상을 겪으며 느낀 건 개발자의 생산성은 학습의 경계를 얼마나 잘 설정하느냐에 달린 듯 하다. 플랫폼에서 제공하는 도구들이 좋긴 하지만 자칫하면 오버 엔지니어링이 되거나 예상치 못한 Side Effect가 발생할 것이다.
'선'을 지키는 건 개발에서도 늘 어렵다.


TDD에서 얻은 사고방식으로 접근해보고 있습니다. 

일단 딱 하나 뽑아서,

1. 새로운 것이라면 이게 현재 내 프로젝트에 적용 됐을 때 어떻게든 정상 동작하도록 한다.

2. 기존의 것을 대체하는 것이라면 적용 후 동작이 기존의 결과와 같도록 한다.